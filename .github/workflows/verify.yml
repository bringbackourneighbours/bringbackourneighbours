name: Verify

# on all pushes but the main!
on:
  push:
    branches:
      - '**'
      - '!main'

jobs:
#  install:
#    name: checkout and install
#    runs-on: ubuntu-latest
#    outputs:
#      node_modules: ${{ steps.install.outputs.node_modules }}
#
#    steps:



  stylelint:
    name: Run stylelint
    runs-on: ubuntu-latest

    steps:
      - uses: ./.github/actions/checkout-setup-install
      - name: Run stylelint
        run: npm run stylelint

  prettier:
    name: Run prettier
    runs-on: ubuntu-latest

    steps:
      - uses: ./.github/actions/checkout-setup-install
      - name: Run prettier
        run: npx prettier -c "**/*.astro" "**/*.ts" "**/*.css" "**/*.md"

#  eslint:
#    name: Run eslint
#    runs-on: ubuntu-latest
#    needs: install
#
#    steps:
#      - name: Run linter
#        run: npx eslint . --ignore-pattern ".astro/**" --ignore-pattern "src/env.d.ts"
#
#  test:
#    name: Test with vitest
#    runs-on: ubuntu-latest
#    needs: install
#
#    steps:
#      - name: Run vitest
#        run: npm run test
#
#  check:
#    name: Check with astro
#    runs-on: ubuntu-latest
#    needs: install
#
#    steps:
#      - name: Run check
#        run: npm run check
#
#  build:
#    name: Build with astro
#    runs-on: ubuntu-latest
#    needs:
#      - check
#      - test
#
#    steps:
#      - name: Run build
#        run: npm run build
#
#
