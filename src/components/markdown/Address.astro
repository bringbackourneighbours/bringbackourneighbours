---
import { type LanguagesValue } from '../../util/languages';
import { getEntry } from 'astro:content';

import AddressDesign from '../design/AddressDesign.astro';
import NotFoundError from '../design/NotFoundError.astro';

export interface Props {
  identifier: string;
  lang?: LanguagesValue;
  showLocation?: boolean;
  showContact?: boolean;
  showWeb?: boolean;
  showBbon?: boolean;
  showNotes?: boolean;
}

const addressEntry = await getEntry('addresses', Astro.props.identifier);
---

{
  addressEntry ? (
    <AddressDesign
      entry={addressEntry}
      {...Astro.props}
    />
  ) : (
    <NotFoundError
      context={`addresses/${Astro.props.identifier}/${Astro.props.lang}`}
    />
  )
}
