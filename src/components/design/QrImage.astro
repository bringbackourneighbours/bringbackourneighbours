---
import { toDataURL } from 'qrcode';

interface Props {
  url: string;
  size?: string;
}

const { url, size } = Astro.props;

// TODO: types are not working... astro why you always like this!
const qrCodeImage = await toDataURL(url, {
  color: {
    dark: '#0b3e9c', // FIXME: use matching colors
    light: '#fff',
  },
  margin: 0,
});
---

<img
  src={qrCodeImage}
  width={size}
  height={size}
  alt="QR Code"
/>
