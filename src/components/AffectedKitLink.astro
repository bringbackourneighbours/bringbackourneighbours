---
import type { LanguagesValue } from '../util/languages';
import { getCanonicalUrlToKit } from '../util/get-canonical-url';
import { useUiTranslation } from '../util/use-ui-translation';

import MenuLink from '../design/MenuLink.astro';

interface Props {
  lang?: LanguagesValue;
}

const { lang = Astro.locals.lang } = Astro.props;

const canonicalUrl = await getCanonicalUrlToKit(lang, 'affected');
const label = await useUiTranslation('meta.emergencyKit', lang);
---

<MenuLink
  lang={lang}
  canonicalUrl={canonicalUrl ?? ''}
  label={label}
/>
