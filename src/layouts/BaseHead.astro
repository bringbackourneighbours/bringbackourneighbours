---
import { type LanguagesValue } from '../util/languages';

import { useUiTranslation } from '../util/use-ui-translation';

interface Props {
  title: string;
  seo?: string;
  lang: LanguagesValue;
  canonicalSlug?: string;
  translationSlugs?: Array<{
    lang: LanguagesValue;
    url: string;
  }>;
}

const {
  title,
  lang,
  canonicalSlug,
  translationSlugs,
  seo = await useUiTranslation('meta.infosAgainstDeportation', lang),
} = Astro.props;

import '@fontsource/firago/400.css';
import '@fontsource/firago/500.css';
import '@fontsource/firago/700.css';
import '@fontsource/firago/400-italic.css';
import '@fontsource/firago/500-italic.css';
import '@fontsource/firago/700-italic.css';

// all the above fonts will be loaded but we want to preload the most used
import firagolatin400normal from '@fontsource/firago/files/firago-latin-400-normal.woff2?url';
import firagolatin500normal from '@fontsource/firago/files/firago-latin-500-normal.woff2?url';

import './theme-color.css';
import './typography.css';
---

<head>
  <meta charset="utf-8" />
  <link
    rel="preload"
    as="font"
    type="font/woff2"
    href={firagolatin400normal}
    crossorigin="anonymous"
  />
  <link
    rel="preload"
    as="font"
    type="font/woff2"
    href={firagolatin500normal}
    crossorigin="anonymous"
  />
  <link
    rel="icon"
    type="image/svg+xml"
    href="/favicon.svg"
  />
  <link
    rel="sitemap"
    href="/sitemap-index.xml"
  />
  <link
    rel="canonical"
    hreflang={lang}
    href={canonicalSlug}
  />
  {
    translationSlugs?.map((translation) => (
      <link
        rel="alternate"
        hreflang={translation.lang}
        href={translation.url}
      />
    ))
  }
  <meta
    name="viewport"
    content="width=device-width"
  />
  <meta
    name="generator"
    content={Astro.generator}
  />
  <meta
    name="theme-color"
    content="lch(55% 90.4 42deg)"
  />
  <meta
    name="description"
    content={seo}
  />
  <title>{title}</title>
  <slot />
</head>
