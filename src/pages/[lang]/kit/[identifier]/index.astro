---
import { type CollectionEntry, getCollection } from 'astro:content';
import { getCanonicalUrlToKit } from '../../../../util/get-canonical-url';
import { mapStaticPathsForStandalone } from '../../../../util/map-static-paths-for-standalone';

interface Props {
  entry: CollectionEntry<'kits'>;
}

export async function getStaticPaths() {
  return mapStaticPathsForStandalone(await getCollection('kits'));
}

const url = await getCanonicalUrlToKit(
  Astro.props.entry,
  Astro.props.entry.data.lang,
);

return Astro.redirect(url);
---
