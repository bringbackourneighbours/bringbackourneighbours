---
import { type CollectionEntry } from 'astro:content';
import { getCanonicalUrlToFlyer } from '../../../../util/get-canonical-url';
import { getStaticPathsForFlyers } from '../../../../util/get-static-paths';

interface Props {
  entry: CollectionEntry<'flyers'>;
}

export async function getStaticPaths() {
  return getStaticPathsForFlyers();
}

const url = await getCanonicalUrlToFlyer(
  Astro.props.entry.data.lang,
  Astro.props.entry.data.identifier,
);

return Astro.redirect(url);
---
