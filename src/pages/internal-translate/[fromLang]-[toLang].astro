---
import type { LanguagesValue } from '../../util/languages';
import { SupportedLanguages, UnSupportedLanguages } from '../../util/languages';

import PrintLayout from '../../layouts/PrintLayout.astro';
import CopyButton from '../../design/CopyButton.astro';
import PreviewTranslation from '../../components/PreviewTranslation.astro';

export interface InternalTranslateProps {
  params: {
    fromLang: LanguagesValue;
    toLang: LanguagesValue;
  };
}

export async function getStaticPaths(): Promise<InternalTranslateProps[]> {
  return SupportedLanguages.map((fromLang) =>
    [...SupportedLanguages, ...UnSupportedLanguages]
      .filter((toLang) => fromLang !== toLang)
      .map((toLang) => ({
        params: {
          fromLang,
          toLang,
        },
      })),
  ).flat();
}

const { fromLang, toLang } = Astro.params;
---

<PrintLayout
  lang={fromLang}
  title={`INTERNAL TRANSLATION ${fromLang} => ${toLang}`}
>
  <CopyButton>
    <PreviewTranslation
      fromLang={fromLang}
      toLang={toLang}
    />
  </CopyButton>
  <PreviewTranslation
    fromLang={fromLang}
    toLang={toLang}
  />
</PrintLayout>
